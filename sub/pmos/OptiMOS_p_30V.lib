*****************************************************************
* INFINEON Power Transistors                                    *
* Level-1/2/3 PSPICE Library for OptiMOS p-Channel Transistors  *
* Version 010420                                                *
*                                                               *
* Models provided by Infineon are not warranted by Infineon as  *
* fully representing all the specifications and operating       *
* characteristics of the semiconductor product to which the     *
* model relates. The models describe the characteristics of     * 
* typical devices.                                              * 
* In all cases, the current data sheet information for a given  *
* device is the final design guideline and the only actual      *
* performance specification.                                    *
* Although models can be a useful tool in evaluating device     *
* performance, they cannot model exact device performance under *
* all conditions, nor are they intended to replace bread-       *
* boarding for final verification. INFINEON therefore does not  *
* assume any liability arising from their use.                  *
* INFINEON reserves the right to change models without prior    * 
* notice.                                                       *
*                                                               *
* This library contains models of the following INFINEON        *
* OptiMOS transistors:                                          *
*                                                               *
*             -30 V                                             * 
*     standard products:                                        *                 
*            BSO301SP                                           *
*            BSO303SP                                           * 
*            BSO303P                                            * 
*            BSO080P03S                                         *
*            BSO130P03S                                         *
*            BSO200P03S                                         *
*            BSK304SP                                           * 
*            BSK313P                                            *
*            BSL307SP                                           * 
*            BSC080P03LS                                        *
*            BSC130P03LS                                        *
*            BSC200P03LS                                        *
*            BSS315P                                            *            
*            SPD50P03L                                          *
*****************************************************************
*****************************************************************
* thermal nodes of level 3 models:                              *
*                                                               *
*  .SUBCKT BSO203SP drain gate source Tj Tsolder_joint          *
*  Tj :    potential=temperature (in °C) at junction (typically *
*          not connected)                                       *
*  Tsolder_joint : node where the boundary contition - external *
*          heat sinks etc - have to be connected (ideal heat    *
*          sink can be modeled by using a voltage source stating*
*          the ambient temperature in °C between Tcase and      *
*          ground.                                              *
*****************************************************************



.SUBCKT P3_30var dd g s0 Tj PARAMS: a=8.26 dVth=0.1 dR=0 dgfs=0 Inn=3.5 Unn=4.5 Rmax=67m Rs=17.5m dC=0 Rm=1m

.PARAM  h1t=710n      h2=200n     h3t=510n     BT=750n     
.PARAM  nsub=3.07     n=1.3       Vth0=1.92    dib=2.5m     auth=1.75m
.PARAM  d0=0.77       d1=-108m    nmu=0.7      ndi=1.15     UBr=40
.PARAM  aubr=35m      UTnbr=50m   lnIb=-8.3    beta=12.1    lnIsj=-24.4
.PARAM  Rd=23m        ta=20n      td=10n       sst=-21m     s298=6

.PARAM  k1=147.5n     U0=751m     g1=2.486     g2=1.032      g3=11m     
.PARAM  b0=1.45u      b1=99n      b2=467n     e1=752m       e3=27.9     
.PARAM  f1=556u       f2=377u     f3=69.5u    f4=440p       f5=153p 
.PARAM  f6=9.82p      f7=0.24p    kbq=85.8u   Tref=298      T0=273

.PARAM  dW=0.2        dV=0.2      eps=0.3      deltb=1m      del=0.1
.PARAM  Vmin=1.42     Vmax=2.42   gfmin=0.5    h1max=950n
   
.PARAM  Vth={Vth0+(Vmax-Vth0)*limit(dVth,0,1)-(Vmin-Vth0)*limit(dVth,-1,0)}
.PARAM  p1={(Unn-Inn*Rs-Vth0)*beta*a}
.PARAM  p2={(dib-c(0.2))*Inn*beta*a}
.PARAM  Rlim={(p1+2*p2*Rmax-SQRT(p1**2+4*p2))/(2*p2)}
.PARAM  dRd={Rd/a+if(dVth==0,limit(dR,0,1)*max(Rlim-Rd/a-Rs,0),0)}
.PARAM  bet={beta*if(dR==0,if(dVth==0,gfmin+(1-gfmin)*(1+limit(dgfs,-1,0)),1),1)}
.PARAM  h1={h1t+(h1max-h1t)*limit(dC,0,1)}
.PARAM  h3={h3t+(h1t-h1)*0.0}

.PARAM  h1a={min(xp(-Vth),h1)}
.PARAM  h1b={h1-h1a+1n}
.PARAM  C1a={f1*h1a*a}
.PARAM  C1b={f1*h1b*a}
.PARAM  Umax={U0-(h1/k1)**2} 
.PARAM  C2={f2*h2*a}
.PARAM  C3a={f3*(2*h3+BT)*a}
.PARAM  C3={C3a+f6*SQRT(a)+f7}
.PARAM  Cgs0={f4*a}
.PARAM  Cds0={f5*a}
.PARAM  Cox={C1a+C1b+C2+C3a}
.PARAM  Cges={Cgs0+Cox}

*MOS+Diode
.FUNC  c(Uds)             {d1*log(min(Uds,UBr))+d0}    
.FUNC  Ue(Ugs,Uds,T)      {Ugs-Vth+dib*Uds+auth*(T-Tref)}
.FUNC  phi(T)             {1/(s298+sst*(limit(T,-200,300)-Tref))}
.FUNC  psi0(Uds,phii,cc)  {min(2*phii,phii+cc*Uds)}
.FUNC  I1(cc,Uee,Udss)    {(Uee-cc*Udss)*Udss}
.FUNC  I0(Uds,cc,Uee,phii,psii) {if(Uee>psii,I1(cc,Uee,min(Uds,Uee/(2*cc))),phii*(psii-phii)/cc*exp((Uee-psii)/phii))}
.FUNC  Imos(Uds,Ugs,T,cc,phii)  {bet/((T/Tref)**n)*I0(Uds,cc,Ue(Ugs,Uds,T),phii,psi0(Uds,phii,cc))}
.FUNC  Idbr(Uds,T)        {exp(min(lnIb+(Uds-Ubr-aubr*(T-Tref))/UTnbr,7))}
.FUNC  Iges(Uds,Ugs,T)    {a*sgn(Uds)*(Imos(abs(Uds),Ugs,T,c(abs(Uds)),phi(T))+Idbr(Uds,T))}
.FUNC  Isjt(T)            {exp(min(lnIsj+(T/Tref-1)*1.12/(ndi*kbq*T),7))*T/Tref}
.FUNC  Idiode(Usd,T,Iss)  {exp(min(log(Iss)+Usd/(ndi*kbq*T),7))-Iss}
.FUNC  Idiod(Usd,T)       {a*Idiode(Usd,T,Isjt(T))}

*Cgd     
.FUNC  xp(Uds)        {k1*SQRT(max(U0-Uds,0))}
.FUNC  w3(Udg,z1)     {2*z1/g1*(1-SQRT(1-Udg*g1))}
.FUNC  w2(Udg,Uds,z1,z2)  {if(Udg>0,z1*Udg+(z2-z1)*(min(Udg,dV)**2/(2*dV)+max(Udg-dV,0)),w3(Udg,z1))}
.FUNC  w1(Udg,z1,z2,z3)   {if(Udg>0,z1*Udg+(z2-z1)*(limit(Udg-z3,0,dV)**2/(2*dV)+max(Udg-z3-dV,0)),w3(Udg,z1))}
.FUNC  U1a(Udg,Uds)   {Udg-w1(Udg,max(h1a-xp(Uds-U0/2),0)/h1a,limit((Uds+Vth)/dW,0,1),Uds+Vth)}
.FUNC  U1b(Udg,Uds)   {Udg-w2(Udg,Uds,limit(h1-xp(Uds-U0/2),0,h1b)/h1b,limit((Uds-Umax)/dW,0,1))}
.FUNC  U2(Udg,Uds)    {Udg+limit(h1+h2-xp(Uds-U0/2),0,h2)/h2*(2/g2*(SQRT(1-min(Udg,0)*g2)-1)-max(Udg,0))}
.FUNC  U3(Udg,Uds)    {Udg+(BT+2*limit(h1+h2+h3-xp(Uds),0,h3))/(2*h3+BT)*(2/g3*(SQRT(1-min(Udg,0)*g3)-1)-max(Udg,0))}

*Cds
.FUNC  U4(Uds,Ugs)    {Uds+2*(b0-limit(b1*Ugs+b2,0,b0/2))/(b0-b2)*(SQRT(U0*max(U0-Uds,0))-U0)}

*Cgs
.FUNC  UK1(Uds)      {e1*SQRT(max(-Uds,0)+eps)}
.FUNC  UK3(Uds)      {e3*SQRT(max(-Uds,0)+eps)}
.FUNC  U5a(Ugs,a,b)  {Ugs*(1-Cgs0/Cges)-Cox/Cges*(limit(Ugs-a,0,b-a)**2/(2*(b-a))+max(Ugs-b,0))}
.FUNC  U5(Uds,Ugs)   {U5a(Ugs,UK1(Uds),UK3(Uds))}

E_Edg1a  d ox1a VALUE {U1a(V(d,g)-U0/2,V(d,s))}
E_Edg1b  d ox1b VALUE {U1b(V(d,g)-U0/2,V(d,s))}
E_Edg2   d ox2  VALUE {U2(V(d,g)-U0/2,V(d,s))}
E_Edg3   d ox3  VALUE {U3(V(d,g),V(d,s))}
C_Cdg1a  ox1a g {C1a}
C_Cdg1b  ox1b g {C1b}
C_Cdg2   ox2  g {C2}
C_Cdg3   ox3  g {C3}

E_Eds    d edep VALUE {U4(V(d,s),V(g,s))}
C_Cds    edep s {Cds0}

E_Egs    g ox0 VALUE {U5(V(d,s),V(g,s))}
C_Cgs    ox0 s {Cges}                   

G_drain d3 dd VALUE={V(d3,dd)/(dRd*((limit(V(Tj),-200,999)+T0)/Tref)**nmu)}
V_sense4 d d3 0
G_G1 s d1 VALUE={Iges(V(s,d),V(s,g),T0+limit(V(Tj),-200,999))+LIMIT(I(V_sense3),-1k,1k)}
V_sense d1 d 0
V_sense2 d1 d2 0
G_diode d2 s VALUE={Idiod(V(d,s),T0+limit(V(Tj),-200,999))}
Rmet s s0 {Rm}

C_C001    a   0 {ta*td/(ta+td)}
R_R001    a   b 1
V_sense3  b   c 0
E_E001    c   0 VALUE {ta/td*I(V_sense2)}

R1 g s 1G
Rd01 d s   500Meg

G_TH 0 Tj VALUE = {LIMIT(I(V_sense)*V(s,d)+I(V_sense4)*V(d,dd)+V(s,s0)**2/Rm,0,100k)}

.ENDS


***************************************************************************************


.SUBCKT BSO301SP_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0

.PARAM Rs=2.539m  Rg=4.7  Rd=146.3u  Rm=1.13m  Ls=0.7n   Ld=0.5n   Lg=3.5n 
.PARAM Inn=12.1  Unn=10  Rmax=8m  gmin=22.17  act=8.26

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
 + Rmax={Rmax-Rd} Rs={Rs} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}

E1    Tj     0    VALUE={TEMP}

.ENDS

*$


*********************************


.SUBCKT BSO303SP_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0

.PARAM Rs=5.887m  Rg=4.2  Rd=146.3u  Rm=2.05m  Ls=2n   Ld=2n   Lg=3.5n 
.PARAM Inn=8.9  Unn=10  Rmax=21m  gmin=13.32  act=3.25

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
 + Rmax={Rmax-Rd} Rs={Rs} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}

E1    Tj     0    VALUE={TEMP}

.ENDS

*$


*********************************


.SUBCKT BSO303P_L1 drain1 gate1 source1 drain1a drain2 gate2 source2 drain2a
  + PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0

.PARAM Rs=6.327m  Rg=4.2  Rd=292.7u  Rm=2.1m  Ls=2n   Ld=2n   Lg=3.5n 
.PARAM Inn=8.2  Unn=10  Rmax=21m  gmin=12.16  act=3.25

X1      d1a      ga    sa    Tj    P3_30var PARAMS: a={act} dVth={dVth1} dR={dRdson1} dgfs={dgfs1} 
     + Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs} dC={dC1} Rm={Rm}
Rga     g1a      ga     {Rg}   
Lga     gate1    g1a    {Lg}
Gsa     s1a      sa     VALUE={V(s1a,sa)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Lsa     source1  s1a    {Ls}
Rda1    d1a      d2a    {2*Rd}
Rda2    d1a      d3a    {2*Rd}
Lda1    drain1   d2a    {Ld}
Lda2    drain1a  d3a    {Ld}

X2      d1b      gb    sb    Tj P3_30var PARAMS: a={act} dVth={dVth2} dR={dRdson2} dgfs={dgfs2} 
     + Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs} dC={dC2} Rm={Rm}
Rgb     g1b      gb     {Rg}   
Lgb     gate2    g1b    {Lg}
Gsb     s1b      sb     VALUE={V(s1b,sb)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Lsb     source2  s1b    {Ls}
Rdb1    d1b      d2b    {2*Rd}
Rdb2    d1b      d3b    {2*Rd}
Ldb1    drain2   d2b    {Ld}
Ldb2    drain2a  d3b    {Ld}

E1 Tj 0 VALUE={TEMP}

.ENDS
*$


*********************************

.SUBCKT BSO080P03S_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0

.PARAM Rs=2.059m  Rg=4.7  Rd=146.3u  Rm=650u  Ls=0.7n   Ld=0.5n   Lg=3.5n 
.PARAM Inn=14.9  Unn=10  Rmax=8m  gmin=24.49  act=8.26

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
 + Rmax={Rmax-Rd} Rs={Rs} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}

E1    Tj     0    VALUE={TEMP}

.ENDS

*********************************

.SUBCKT BSC080P03LS_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0

.PARAM Rs=2.411m  Rg=4.7  Rd=50u  Rm=650u  Ls=0.7n   Ld=0.5n   Lg=3.5n 
.PARAM Inn=30  Unn=10  Rmax=8m  gmin=24.46  act=8.26

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
 + Rmax={Rmax} Rs={Rs} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}

E1    Tj     0    VALUE={TEMP}
V2    Tamb   0    0

.ENDS

*********************************

.SUBCKT BSO130P03S_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0

.PARAM Rs=2.514m  Rg=4.7  Rd=146.3u  Rm=700u  Ls=0.7n   Ld=0.5n   Lg=3.5n 
.PARAM Inn=11.9  Unn=10  Rmax=13m  gmin=22  act=4.925

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
 + Rmax={Rmax-Rd} Rs={Rs} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}

E1    Tj     0    VALUE={TEMP}

.ENDS

*********************************

.SUBCKT BSC130P03LS_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0

.PARAM Rs=3.021m  Rg=4.7  Rd=50u  Rm=700u  Ls=0.7n   Ld=0.5n   Lg=3.5n 
.PARAM Inn=22.5  Unn=10  Rmax=13m  gmin=29.52  act=4.925

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
 + Rmax={Rmax} Rs={Rs} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}

E1    Tj     0    VALUE={TEMP}
V2    Tamb   0    0

.ENDS

*********************************

.SUBCKT BSO200P03S_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0

.PARAM Rs=5.887m  Rg=4.2  Rd=146.3u  Rm=2.05m  Ls=2n   Ld=2n   Lg=3.5n 
.PARAM Inn=8.9  Unn=10  Rmax=21m  gmin=13.32  act=3.25

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
 + Rmax={Rmax-Rd} Rs={Rs} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}

E1    Tj     0    VALUE={TEMP}

.ENDS

*********************************

.SUBCKT BSC200P03LS_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0

.PARAM Rs=6.982m  Rg=4.2  Rd=50u  Rm=1.86m  Ls=2n   Ld=2n   Lg=3.5n 
.PARAM Inn=12.5  Unn=10  Rmax=20m  gmin=15.5  act=3.25

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
 + Rmax={Rmax} Rs={Rs} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}

E1    Tj     0    VALUE={TEMP}
V2    Tamb   0    0

.ENDS

*********************************

.SUBCKT BSK304SP_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0

.PARAM Rs=5.371m  Rg=5.5  Rd=225u  Rm=2m  Ls=2n   Ld=0.3n   Lg=3n 
.PARAM Inn=7.6  Unn=10  Rmax=22m  gmin=9.99  act=2.69

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
 + Rmax={Rmax-Rd} Rs={Rs} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}

E1    Tj     0    VALUE={TEMP}

.ENDS

*$


*********************************



.SUBCKT BSK313P_L1 drain1 gate1 source1 drain1a drain2 gate2 source2 drain2a
  + PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0

.PARAM Rs=16.869m  Rg=8.5  Rd=450u  Rm=5.3m  Ls=2.5n   Ld=1.2n   Lg=3n 
.PARAM Inn=3.2  Unn=10  Rmax=80m   gmin=4.51  act=0.938

X1      d1a      ga    sa    Tj  P3_30var PARAMS: a={act} dVth={dVth1} dR={dRdson1} dgfs={dgfs1} 
     + Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs} dC={dC1} Rm={Rm}
Rga     g1a      ga     {Rg}   
Lga     gate1    g1a    {Lg}
Gsa     s1a      sa     VALUE={V(s1a,sa)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Lsa     source1  s1a    {Ls}
Rda1    d1a      d2a    {2*Rd}
Rda2    d1a      d3a    {2*Rd}
Lda1    drain1   d2a    {Ld}
Lda2    drain1a  d3a    {Ld}

X2      d1b      gb    sb    Tj  P3_30var PARAMS: a={act} dVth={dVth2} dR={dRdson2} dgfs={dgfs2} 
     + Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs} dC={dC2} Rm={Rm}
Rgb     g1b      gb     {Rg}   
Lgb     gate2    g1b    {Lg}
Gsb     s1b      sb     VALUE={V(s1b,sb)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Lsb     source2  s1b    {Ls}
Rdb1    d1b      d2b    {2*Rd}
Rdb2    d1b      d3b    {2*Rd}
Ldb1    drain2   d2b    {Ld}
Ldb2    drain2a  d3b    {Ld}

E1 Tj 0 VALUE={TEMP}

.ENDS
*$


*********************************



.SUBCKT BSL307SP_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0

.PARAM Rs=8.184m  Rg=9.6  Rd=205.7u  Rm=4m  Ls=2n   Ld=0.3n   Lg=3n 
.PARAM Inn=5.5  Unn=10  Rmax=43m   gmin=5.23  act=1.47

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
 + Rmax={Rmax-Rd} Rs={Rs} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}

E1    Tj     0    VALUE={TEMP}

.ENDS

*$


*********************************



.SUBCKT SPD50P03L_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0

.PARAM Rs=1.037m  Rg=3.3  Rd=50u  Rm=490u  Ls=2n   Ld=0.3n   Lg=3n 
.PARAM Inn=50  Unn=10  Rmax=7m   gmin=47  act=8.55

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
 + Rmax={Rmax-Rd} Rs={Rs} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}

E1    Tj     0    VALUE={TEMP}

.ENDS

*$

*********************************

.SUBCKT BSS315P_L1 drain gate source PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0

.PARAM Rs=15.379m  Rg=17.5  Rd=1.2m  Rm=600u  Ls=1n  Ld=0.5n  Lg=1n
.PARAM Inn=1.1  Unn=4.5  Rmax=270m  gmin=2.11  act=0.37

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} 
 + Rmax={Rmax} Rs={Rs} dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}

E1    Tj     0    VALUE={TEMP}
V2    Tamb   0    0

.ENDS

*$

*********************************


.SUBCKT BSO301SP drain gate source Tj Tsolder_joint PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 

.PARAM Rs=2.539m  Rg=4.7  Rd=146.3u  Rm=1.13m  Ls=0.7n   Ld=0.5n   Lg=3.5n 
.PARAM Inn=12.1  Unn=10  Rmax=8m  gmin=22.17  act=8.26

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs}
    + dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}
G_TH  0    Tj  VALUE = {0.5*LIMIT(I(Ls)*V(s1,s),0,100k)}
Rth1  Tj      t1              {2.16m}
Rth2  t1      t2              {27.5m+limit(Zthtype,0,1)*5.51m}
Rth3  t2      t3              {939m+limit(Zthtype,0,1)*202m}
Rth4  t3      t4              {8.022+limit(Zthtype,0,1)*1.73}
Rth5  t4      Tsolder_joint   {11.6+limit(Zthtype,0,1)*2.49} 
Cth1  Tj      0            29.1u
Cth2  t1      0            151u
Cth3  t2      0            1.53m
Cth4  t3      0            8.79m
Cth5  t4      0            79.6m

.ENDS
*$


*********************************


.SUBCKT BSO303SP drain gate source Tj Tsolder_joint PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0

.PARAM Rs=5.887m  Rg=4.2  Rd=146.3u  Rm=2.05m  Ls=2n   Ld=2n   Lg=3.5n 
.PARAM Inn=8.9  Unn=10  Rmax=21m  gmin=13.32  act=3.25

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs}
    + dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}
G_TH  0    Tj  VALUE = {0.5*LIMIT(I(Ls)*V(s1,s),0,100k)}
Rth1  Tj      t1              {5.09m}
Rth2  t1      t2              {66.1m+limit(Zthtype,0,1)*37.3m}
Rth3  t2      t3              {2.37+limit(Zthtype,0,1)*2.4}
Rth4  t3      t4              {7.98+limit(Zthtype,0,1)*4.22}
Rth5  t4      Tsolder_joint   {13.44+limit(Zthtype,0,1)*26.0} 
Cth1  Tj      0            12.3u
Cth2  t1      0            64.8u
Cth3  t2      0            668u
Cth4  t3      0            6.58m
Cth5  t4      0            65.1m

.ENDS
*$


*********************************


.SUBCKT BSO303P drain1 gate1 source1 drain1a drain2 gate2 source2 drain2a Tj1 Tsolder_joint1 Tj2 Tsolder_joint2 
  + PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0 Zthtype=0

.PARAM Rs=6.327m  Rg=4.2  Rd=292.7u  Rm=2.1m  Ls=2n   Ld=2n   Lg=3.5n 
.PARAM Inn=8.2  Unn=10  Rmax=21m  gmin=12.16  act=3.25

X1      d1a      ga    sa    Tj1    P3_30var PARAMS: a={act} dVth={dVth1} dR={dRdson1} dgfs={dgfs1} 
     + Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs} dC={dC1} Rm={Rm}
Rga     g1a      ga     {Rg}   
Lga     gate1    g1a    {Lg}
Gsa     s1a      sa     VALUE={V(s1a,sa)/(Rs*(1+(limit(V(Tj1),-200,999)-25)*0.004)-Rm)}
Lsa     source1  s1a    {Ls}
Rda1    d1a      d2a    {2*Rd}
Rda2    d1a      d3a    {2*Rd}
Lda1    drain1   d2a    {Ld}
Lda2    drain1a  d3a    {Ld}

X2      d1b      gb    sb    Tj2 P3_30var PARAMS: a={act} dVth={dVth2} dR={dRdson2} dgfs={dgfs2} 
     + Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs} dC={dC2} Rm={Rm}
Rgb     g1b      gb     {Rg}   
Lgb     gate2    g1b    {Lg}
Gsb     s1b      sb     VALUE={V(s1b,sb)/(Rs*(1+(limit(V(Tj2),-200,999)-25)*0.004)-Rm)}
Lsb     source2  s1b    {Ls}
Rdb1    d1b      d2b    {2*Rd}
Rdb2    d1b      d3b    {2*Rd}
Ldb1    drain2   d2b    {Ld}
Ldb2    drain2a  d3b    {Ld}

G_TH1 0    Tj1  VALUE = {0.5*LIMIT(I(Lsa)*V(s1a,sa),0,100k)}
G_TH2 0    Tj2  VALUE = {0.5*LIMIT(I(Lsb)*V(s1b,sb),0,100k)}
Rth1  Tj1     a1               {5.41m}
Rth2  a1      b1               {69.3m+limit(Zthtype,0,1)*13.9m}
Rth3  b1      c1               {2.12+limit(Zthtype,0,1)*745m}
Rth4  c1      d1               {16.2+limit(Zthtype,0,1)*5.69}
Rth5  d1      Tsolder_joint1   {26+limit(Zthtype,0,1)*9.14} 
Cth1  Tj1     0             11.4u
Cth2  a1      0             58.5u
Cth3  b1      0             596u
Cth4  c1      0             4.41m
Cth5  d1      0             43.8m
Rth11  Tj2     a2              {5.41m}
Rth12  a2      b2              {69.3m+limit(Zthtype,0,1)*13.9m}
Rth13  b2      c2              {2.12+limit(Zthtype,0,1)*745m}
Rth14  c2      d2              {16.2+limit(Zthtype,0,1)*5.69}
Rth15  d2      Tsolder_joint2  {26+limit(Zthtype,0,1)*9.14} 
Cth11  Tj2     0            11.4u
Cth12  a2      0            58.5u
Cth13  b2      0            596u
Cth14  c2      0            4.41m
Cth15  d2      0            43.8m
Rthk1  Tj1     e1              280
Rthk2  Tj2     e1              280
Rthk3  c1      e2              250
Rthk4  c2      e2              250
Cthk1  e1      0            5m
Cthk2  e2      0            600u 

.ENDS
*$


*********************************


.SUBCKT BSO080P03S drain gate source Tj Tsolder_joint PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 

.PARAM Rs=2.539m  Rg=4.7  Rd=146.3u  Rm=1.13m  Ls=0.7n   Ld=0.5n   Lg=3.5n 
.PARAM Inn=12.1  Unn=10  Rmax=8m  gmin=22.17  act=8.26

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs}
    + dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}
G_TH  0    Tj  VALUE = {0.5*LIMIT(I(Ls)*V(s1,s),0,100k)}
Rth1  Tj      t1              {2.16m}
Rth2  t1      t2              {27.5m+limit(Zthtype,0,1)*5.51m}
Rth3  t2      t3              {939m+limit(Zthtype,0,1)*202m}
Rth4  t3      t4              {8.022+limit(Zthtype,0,1)*1.73}
Rth5  t4      Tsolder_joint   {11.6+limit(Zthtype,0,1)*2.49} 
Cth1  Tj      0            29.1u
Cth2  t1      0            151u
Cth3  t2      0            1.53m
Cth4  t3      0            8.79m
Cth5  t4      0            79.6m

.ENDS
*$
*********************************

.SUBCKT BSC080P03LS drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 

.PARAM Rs=2.411m  Rg=4.7  Rd=50u  Rm=650u  Ls=0.7n   Ld=0.5n   Lg=3.5n 
.PARAM Inn=30  Unn=10  Rmax=8m  gmin=33.87  act=8.26

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs}
    + dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}
G_TH  0    Tj  VALUE = {0.5*LIMIT(I(Ls)*V(s1,s),0,100k)}
Rth1  Tj      t1              {3.19m+limit(Zthtype,0,1)*1.18m}
Rth2  t1      t2              {42.58m+limit(Zthtype,0,1)*15.76m}
Rth3  t2      t3              {165.31m+limit(Zthtype,0,1)*53.01m}
Rth4  t3      t4              {173.04m+limit(Zthtype,0,1)*251.84m}
Rth5  t4      Tcase           {282.68m+limit(Zthtype,0,1)*411.41m}
Cth1  Tj      0               57.499u
Cth2  t1      0               328.572u
Cth3  t2      0               2.029m
Cth4  t3      0               1.456m
Cth5  t4      0               34.733m
Cth6  Tcase   0               30m

.ENDS
*$

*********************************


.SUBCKT BSO130P03S drain gate source Tj Tsolder_joint PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0

.PARAM Rs=2.514m  Rg=4.7  Rd=146.3u  Rm=700u  Ls=0.7n   Ld=0.5n   Lg=3.5n 
.PARAM Inn=11.9  Unn=10  Rmax=13m  gmin=22  act=4.93

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs}
    + dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}
G_TH  0    Tj  VALUE = {0.5*LIMIT(I(Ls)*V(s1,s),0,100k)}
Rth1  Tj      t1              {5.48m+limit(Zthtype,0,1)*2.03m}
Rth2  t1      t2              {72.01m+limit(Zthtype,0,1)*26.65m}
Rth3  t2      t3              {511.4m+limit(Zthtype,0,1)*91.69m}
Rth4  t3      t4              {8+limit(Zthtype,0,1)*5.72}
Rth5  t4      Tsolder_joint   {12+limit(Zthtype,0,1)*8.57} 
Cth1  Tj      0            33.413u
Cth2  t1      0            194.279u
Cth3  t2      0            1.116m
Cth4  t3      0            10.977m
Cth5  t4      0            35m

.ENDS
*$
*********************************

.SUBCKT BSC130P03LS drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 

.PARAM Rs=3.021m  Rg=4.7  Rd=50u  Rm=700u  Ls=0.7n   Ld=0.5n   Lg=3.5n 
.PARAM Inn=22.5  Unn=10  Rmax=13m  gmin=29.52  act=4.925

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs}
    + dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}
G_TH  0    Tj  VALUE = {0.5*LIMIT(I(Ls)*V(s1,s),0,100k)}
Rth1  Tj      t1              {5.34m+limit(Zthtype,0,1)*1.98m}
Rth2  t1      t2              {70.25m+limit(Zthtype,0,1)*26m}
Rth3  t2      t3              {267.03m+limit(Zthtype,0,1)*89.34m}
Rth4  t3      t4              {290.22m+limit(Zthtype,0,1)*303.65m}
Rth5  t4      Tcase           {364.66m+limit(Zthtype,0,1)*381.53m}
Cth1  Tj      0               34.283u
Cth2  t1      0               199.153u
Cth3  t2      0               1.268m
Cth4  t3      0               867.879u
Cth5  t4      0               26.96m
Cth6  Tcase   0               30m

.ENDS
*$


*********************************

.SUBCKT BSO200P03S drain gate source Tj Tsolder_joint PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0

.PARAM Rs=5.887m  Rg=4.2  Rd=146.3u  Rm=2.05m  Ls=2n   Ld=2n   Lg=3.5n 
.PARAM Inn=8.9  Unn=10  Rmax=21m  gmin=13.32  act=3.25

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs}
    + dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}
G_TH  0    Tj  VALUE = {0.5*LIMIT(I(Ls)*V(s1,s),0,100k)}
Rth1  Tj      t1              {5.09m}
Rth2  t1      t2              {66.1m+limit(Zthtype,0,1)*37.3m}
Rth3  t2      t3              {2.37+limit(Zthtype,0,1)*2.4}
Rth4  t3      t4              {7.98+limit(Zthtype,0,1)*4.22}
Rth5  t4      Tsolder_joint   {13.44+limit(Zthtype,0,1)*26.0} 
Cth1  Tj      0            12.3u
Cth2  t1      0            64.8u
Cth3  t2      0            668u
Cth4  t3      0            6.58m
Cth5  t4      0            65.1m

.ENDS
*$
*********************************

.SUBCKT BSC200P03LS drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 

.PARAM Rs=6.982m  Rg=4.2  Rd=50u  Rm=1.86m  Ls=2n   Ld=2n   Lg=3.5n 
.PARAM Inn=12.5  Unn=10  Rmax=20m  gmin=15.5  act=3.25

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs}
    + dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}
G_TH  0    Tj  VALUE = {0.5*LIMIT(I(Ls)*V(s1,s),0,100k)}
Rth1  Tj      t1              {8.1m+limit(Zthtype,0,1)*3m}
Rth2  t1      t2              {104.71m+limit(Zthtype,0,1)*38.76m}
Rth3  t2      t3              {395.29m+limit(Zthtype,0,1)*136.04m}
Rth4  t3      t4              {439.8m+limit(Zthtype,0,1)*223.87m}
Rth5  t4      Tcase           {431.03m+limit(Zthtype,0,1)*219.4m}
Cth1  Tj      0               22.624u
Cth2  t1      0               133.609u
Cth3  t2      0               862.279u
Cth4  t3      0               572.712u
Cth5  t4      0               25.04m
Cth6  Tcase   0               30m

.ENDS
*$

*********************************


.SUBCKT BSK304SP drain gate source Tj Tsolder_joint PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0

.PARAM Rs=5.371m  Rg=5.5  Rd=225u  Rm=2m  Ls=2n   Ld=0.3n   Lg=3n 
.PARAM Inn=7.6  Unn=10  Rmax=22m  gmin=9.99  act=2.69

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs}
    + dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}
G_TH  0    Tj  VALUE = {0.5*LIMIT(I(Ls)*V(s1,s),0,100k)}
Rth1  Tj      t1              {6.33m}
Rth2  t1      t2              {77.5m+limit(Zthtype,0,1)*15.5m}
Rth3  t2      t3              {1.53+limit(Zthtype,0,1)*720m}
Rth4  t3      t4              {5.35+limit(Zthtype,0,1)*2.52}
Rth5  t4      Tsolder_joint   {20.2+limit(Zthtype,0,1)*9.54} 
Cth1  Tj      0            9.34u
Cth2  t1      0            46.4u
Cth3  t2      0            437m
Cth4  t3      0            1.19m
Cth5  t4      0            5.72m

.ENDS
*$


*********************************



.SUBCKT BSK313P drain1 gate1 source1 drain1a drain2 gate2 source2 drain2a Tj1 Tsolder_joint1 Tj2 Tsolder_joint2  
  + PARAMS: dVth1=0 dVth2=0 dRdson1=0 dRdson2=0 dgfs1=0 dgfs2=0 dC1=0 dC2=0 Zthtype=0

.PARAM Rs=16.869m  Rg=8.5  Rd=450u  Rm=5.3m  Ls=2.5n   Ld=1.2n   Lg=3n 
.PARAM Inn=3.2  Unn=10  Rmax=80m   gmin=4.51  act=0.938

X1      d1a      ga    sa    Tj1  P3_30var PARAMS: a={act} dVth={dVth1} dR={dRdson1} dgfs={dgfs1} 
     + Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs} dC={dC1} Rm={Rm}
Rga     g1a      ga     {Rg}   
Lga     gate1    g1a    {Lg}
Gsa     s1a      sa     VALUE={V(s1a,sa)/(Rs*(1+(limit(V(Tj1),-200,999)-25)*0.004)-Rm)}
Lsa     source1  s1a    {Ls}
Rda1    d1a      d2a    {2*Rd}
Rda2    d1a      d3a    {2*Rd}
Lda1    drain1   d2a    {Ld}
Lda2    drain1a  d3a    {Ld}

X2      d1b      gb    sb    Tj2  P3_30var PARAMS: a={act} dVth={dVth2} dR={dRdson2} dgfs={dgfs2} 
     + Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs} dC={dC2} Rm={Rm}
Rgb     g1b      gb     {Rg}   
Lgb     gate2    g1b    {Lg}
Gsb     s1b      sb     VALUE={V(s1b,sb)/(Rs*(1+(limit(V(Tj2),-200,999)-25)*0.004)-Rm)}
Lsb     source2  s1b    {Ls}
Rdb1    d1b      d2b    {2*Rd}
Rdb2    d1b      d3b    {2*Rd}
Ldb1    drain2   d2b    {Ld}
Ldb2    drain2a  d3b    {Ld}

G_TH1 0    Tj1  VALUE = {0.5*LIMIT(I(Lsa)*V(s1a,sa),0,100k)}
G_TH2 0    Tj2  VALUE = {0.5*LIMIT(I(Lsb)*V(s1b,sb),0,100k)}
Rth1  Tj1     a1               {17.1m}
Rth2  a1      b1               {195m+limit(Zthtype,0,1)*39.2m}
Rth3  b1      c1               {1.48+limit(Zthtype,0,1)*676m}
Rth4  c1      d1               {10.0+limit(Zthtype,0,1)*4.55}
Rth5  d1      Tsolder_joint1   {57+limit(Zthtype,0,1)*26.1} 
Cth1  Tj1     0             3.17u
Cth2  a1      0             15.1u
Cth3  b1      0             119u
Cth4  c1      0             272u
Cth5  d1      0             3.12m
Rth11  Tj2     a2              {17.1m}
Rth12  a2      b2              {195m+limit(Zthtype,0,1)*39.2m}
Rth13  b2      c2              {1.48+limit(Zthtype,0,1)*676m}
Rth14  c2      d2              {10.0+limit(Zthtype,0,1)*4.55}
Rth15  d2      Tsolder_joint2  {57.0+limit(Zthtype,0,1)*26.1} 
Cth11  Tj2     0            3.17u
Cth12  a2      0            15.1u
Cth13  b2      0            119u
Cth14  c2      0            272u
Cth15  d2      0            3.12m
Rthk1  Tj1     e1              500
Rthk2  Tj2     e1              500
Rthk3  c1      e2              400
Rthk4  c2      e2              400
Cthk1  e1      0            2m
Cthk2  e2      0            700u

.ENDS
*$


*********************************



.SUBCKT BSL307SP drain gate source Tj Tsolder_joint PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 

.PARAM Rs=8.184m  Rg=9.6  Rd=205.7u  Rm=4m  Ls=2n   Ld=0.3n   Lg=3n 
.PARAM Inn=5.5  Unn=10  Rmax=43m   gmin=5.23  act=1.47

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs}
    + dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}
G_TH  0    Tj  VALUE = {0.5*LIMIT(I(Ls)*V(s1,s),0,100k)}
Rth1  Tj      t1              {10.7m}
Rth2  t1      t2              {110m+limit(Zthtype,0,1)*22m}
Rth3  t2      t3              {597m+limit(Zthtype,0,1)*981m}
Rth4  t3      t4              {5.62+limit(Zthtype,0,1)*9.24}
Rth5  t4      Tsolder_joint   {16.4+limit(Zthtype,0,1)*27.1} 
Cth1  Tj      0            5.06u
Cth2  t1      0            22.7u
Cth3  t2      0            149u
Cth4  t3      0            283u
Cth5  t4      0            2.68m

.ENDS
*$


*********************************



.SUBCKT SPD50P03L drain gate source Tj Tcase PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 

.PARAM Rs=1.037m  Rg=3.3  Rd=50u  Rm=490u  Ls=2n   Ld=0.3n   Lg=3n 
.PARAM Inn=50  Unn=10  Rmax=7m   gmin=47  act=8.55

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs}
    + dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}
G_TH  0    Tj  VALUE = {0.5*LIMIT(I(Ls)*V(s1,s),0,100k)}
Rth1  Tj      t1              {1.88m}
Rth2  t1      t2              {20.5m+limit(Zthtype,0,1)*4.1m}
Rth3  t2      t3              {112m+limit(Zthtype,0,1)*168m}
Rth4  t3      t4              {199m+limit(Zthtype,0,1)*297m}
Rth5  t4      Tcase           {147m+limit(Zthtype,0,1)*250m} 
Cth1  Tj      0            21.1u
Cth2  t1      0            132u
Cth3  t2      0            666u
Cth4  t3      0            2.29u
Cth5  t4      0            20.0m
Cth6  Tcase   0            58.9m
.ENDS


*********************************

*$


.SUBCKT BSS315P drain gate source Tj Tsolder_joint PARAMS: dVth=0 dRdson=0 dgfs=0 dC=0 Zthtype=0 

.PARAM Rs=15.379m  Rg=17.5  Rd=1.2m  Rm=600u  Ls=1n  Ld=0.5n  Lg=1n
.PARAM Inn=1.1  Unn=4.5  Rmax=270m  gmin=2.11  act=0.37

X1  d1 g s Tj P3_30var PARAMS: a={act} dVth={dVth} dR={dRdson} dgfs={dgfs} Inn={Inn} Unn={Unn} Rmax={Rmax-Rd} Rs={Rs}
    + dC={dC} Rm={Rm}
Rg    g1     g    {Rg}   
Lg    gate   g1   {Lg}
Gs    s1     s    VALUE={V(s1,s)/(Rs*(1+(limit(V(Tj),-200,999)-25)*0.004)-Rm)}
Ls    source s1   {Ls}
Rda1  d1     d2   {Rd}
Ld    drain  d2   {Ld}
G_TH  0    Tj  VALUE = {0.5*LIMIT(I(Ls)*V(s1,s),0,100k)}
Rth1  Tj      t1              {215.74m+limit(Zthtype,0,1)*79.85m}
Rth2  t1      t2              {2+limit(Zthtype,0,1)*734.81m}
Rth3  t2      t3              {5.66+limit(Zthtype,0,1)*340.94m}
Rth4  t3      t4              {11.11+limit(Zthtype,0,1)*9.59}
Rth5  t4      Tsolder_joint   {59.17+limit(Zthtype,0,1)*51.09} 
Cth1  Tj      0            849.255n
Cth2  t1      0            2.681u
Cth3  t2      0            16.282u
Cth4  t3      0            223.105u
Cth5  t4      0            601.844u
*Cth6  Tsolder_joint   0    6m

.ENDS


*$

*********************************


.SUBCKT  BSO301SP_L0  drain  gate  source

*package
Lg     gate  g1   3.5n 
Ld     drain d1   0.5n 
Ls     source s1  0.7n 
Rs      s1    s2  2.059m

Rg     g1    g2    4.7

*MOSFET
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS PMOS ( KP=90.86 VTO=-2 THETA=0.02 ETA=0.01   LEVEL=3)
Rd     d1    d2    2.18m  TC=5.5m

*diode
Dbd     d2    s2    Dbt
.MODEL     Dbt    D(BV=40   M=0.5      CJO=1.26n     VJ=1)
Dbody   21   s2    DBODY
.MODEL DBODY  D(IS=198.24p  N=1.15    RS=5.93m   EG=1.12    TT=30n)
Rdiode  d1  21    2.78m  TC=5.5m

.MODEL   sw    PMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   4.93n
.MODEL     DGD    D(M=0.62   CJO=4.93n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       d2   a   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2   4.2n

.ENDS BSO301SP_L0

**********

.SUBCKT  BSO080P03S_L0  drain  gate  source

*package
Lg     gate  g1   3.5n 
Ld     drain d1   0.5n 
Ls     source s1  0.7n 
Rs      s1    s2  2.059m

Rg     g1    g2    4.7

*MOSFET
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS PMOS ( KP=90.86 VTO=-2 THETA=0.02 ETA=0.01   LEVEL=3)
Rd     d1    d2    2.18m  TC=5.5m

*diode
Dbd     d2    s2    Dbt
.MODEL     Dbt    D(BV=40   M=0.5      CJO=1.26n     VJ=1)
Dbody   21   s2    DBODY
.MODEL DBODY  D(IS=198.24p  N=1.15    RS=5.93m   EG=1.12    TT=30n)
Rdiode  d1  21    2.78m  TC=5.5m

.MODEL   sw    PMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   4.93n
.MODEL     DGD    D(M=0.62   CJO=4.93n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       d2   a   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2   4.2n

.ENDS BSO080P03S_L0

**********

.SUBCKT  BSO130P03S_L0  drain  gate  source

*package
Lg     gate  g1   3.5n 
Ld     drain d1   0.5n 
Ls     source s1  0.7n 
Rs      s1    s2  2.514m

Rg     g1    g2    4.7

*MOSFET
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS PMOS ( KP=54.18 VTO=-2 THETA=0.02 ETA=0.01   LEVEL=3)
Rd     d1    d2    3.65m  TC=5.5m

*diode
Dbd     d2    s2    Dbt
.MODEL     Dbt    D(BV=40   M=0.5      CJO=753.53p     VJ=1)
Dbody   21   s2    DBODY
.MODEL DBODY  D(IS=118.2p  N=1.15    RS=9.95m   EG=1.12    TT=30n)
Rdiode  d1  21    4.67m  TC=5.5m

.MODEL   sw    PMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   2.94n
.MODEL     DGD    D(M=0.62   CJO=2.94n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       d2   a   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2   2.5n

.ENDS BSO130P03S_L0

**********

.SUBCKT  BSO303SP_L0  drain  gate  source

*package
Lg     gate  g1   3.5n 
Ld     drain d1   2n 
Ls     source s1  2n 
Rs      s1    s2  5.887m

Rg     g1    g2    4.2

*MOSFET
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS PMOS ( KP=35.75 VTO=-2 THETA=0.02 ETA=0.01   LEVEL=3)
Rd     d1    d2    5.54m  TC=5.5m

*diode
Dbd     d2    s2    Dbt
.MODEL     Dbt    D(BV=40   M=0.5      CJO=497.25p     VJ=1)
Dbody   21   s2    DBODY
.MODEL DBODY  D(IS=78p  N=1.15    RS=15.08m   EG=1.12    TT=30n)
Rdiode  d1  21    7.08m  TC=5.5m

.MODEL   sw    PMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.95n
.MODEL     DGD    D(M=0.62   CJO=1.95n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       d2   a   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2   1.65n

.ENDS BSO303SP_L0

**********

.SUBCKT  BSO303P_L0  drain  gate  source

*package
Lg     gate  g1   3.5n 
Ld     drain d1   2n 
Ls     source s1  2n 
Rs      s1    s2  6.327m

Rg     g1    g2    4.2

*MOSFET
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS PMOS ( KP=35.75 VTO=-2 THETA=0.02 ETA=0.01   LEVEL=3)
Rd     d1    d2    5.54m  TC=5.5m

*diode
Dbd     d2    s2    Dbt
.MODEL     Dbt    D(BV=40   M=0.5      CJO=497.25p     VJ=1)
Dbody   21   s2    DBODY
.MODEL DBODY  D(IS=78p  N=1.15    RS=15.08m   EG=1.12    TT=30n)
Rdiode  d1  21    7.08m  TC=5.5m

.MODEL   sw    PMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.95n
.MODEL     DGD    D(M=0.62   CJO=1.95n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       d2   a   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2   1.65n

.ENDS BSO303P_L0

**********

.SUBCKT  BSO200P03S_L0  drain  gate  source

*package
Lg     gate  g1   3.5n 
Ld     drain d1   2n 
Ls     source s1  2n 
Rs      s1    s2  5.887m

Rg     g1    g2    4.2

*MOSFET
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS PMOS ( KP=35.75 VTO=-2 THETA=0.02 ETA=0.01   LEVEL=3)
Rd     d1    d2    5.54m  TC=5.5m

*diode
Dbd     d2    s2    Dbt
.MODEL     Dbt    D(BV=40   M=0.5      CJO=497.25p     VJ=1)
Dbody   21   s2    DBODY
.MODEL DBODY  D(IS=78p  N=1.15    RS=15.08m   EG=1.12    TT=30n)
Rdiode  d1  21    7.08m  TC=5.5m

.MODEL   sw    PMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.95n
.MODEL     DGD    D(M=0.62   CJO=1.95n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       d2   a   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2   1.65n

.ENDS BSO200P03S_L0

**********

.SUBCKT  BSK304SP_L0  drain  gate  source

*package
Lg     gate  g1   3n 
Ld     drain d1   0.3n 
Ls     source s1  2n 
Rs      s1    s2  5.371m

Rg     g1    g2    5.5

*MOSFET
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS PMOS ( KP=29.59 VTO=-2 THETA=0.02 ETA=0.01   LEVEL=3)
Rd     d1    d2    6.69m  TC=5.5m

*diode
Dbd     d2    s2    Dbt
.MODEL     Dbt    D(BV=40   M=0.5      CJO=411.57p     VJ=1)
Dbody   21   s2    DBODY
.MODEL DBODY  D(IS=64.56p  N=1.15    RS=18.22m   EG=1.12    TT=30n)
Rdiode  d1  21    8.55m  TC=5.5m

.MODEL   sw    PMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.61n
.MODEL     DGD    D(M=0.62   CJO=1.61n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       d2   a   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2   1.37n

.ENDS BSK304SP_L0

**********

.SUBCKT  BSK313P_L0  drain  gate  source

*package
Lg     gate  g1   3n 
Ld     drain d1   1.2n 
Ls     source s1  2.5n 
Rs      s1    s2  16.869m

Rg     g1    g2    8.5

*MOSFET
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS PMOS ( KP=10.32 VTO=-2 THETA=0.02 ETA=0.01   LEVEL=3)
Rd     d1    d2    19.19m  TC=5.5m

*diode
Dbd     d2    s2    Dbt
.MODEL     Dbt    D(BV=40   M=0.5      CJO=143.51p     VJ=1)
Dbody   21   s2    DBODY
.MODEL DBODY  D(IS=22.51p  N=1.15    RS=52.24m   EG=1.12    TT=30n)
Rdiode  d1  21    24.52m  TC=5.5m

.MODEL   sw    PMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   566.02p
.MODEL     DGD    D(M=0.62   CJO=566.02p   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       d2   a   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2   476.5p

.ENDS BSK313P_L0

**********

.SUBCKT  BSL307SP_L0  drain  gate  source

*package
Lg     gate  g1   3n 
Ld     drain d1   0.3n 
Ls     source s1  2n 
Rs      s1    s2  8.184m

Rg     g1    g2    9.6

*MOSFET
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS PMOS ( KP=16.17 VTO=-2 THETA=0.02 ETA=0.01   LEVEL=3)
Rd     d1    d2    12.24m  TC=5.5m

*diode
Dbd     d2    s2    Dbt
.MODEL     Dbt    D(BV=40   M=0.5      CJO=224.91p     VJ=1)
Dbody   21   s2    DBODY
.MODEL DBODY  D(IS=35.28p  N=1.15    RS=33.33m   EG=1.12    TT=30n)
Rdiode  d1  21    15.65m  TC=5.5m

.MODEL   sw    PMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   883.9p
.MODEL     DGD    D(M=0.62   CJO=883.9p   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       d2   a   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2   746.76p

.ENDS BSL307SP_L0

**********

.SUBCKT  SPD50P03L_L0  drain  gate  source

*package
Lg     gate  g1   3n 
Ld     drain d1   0.3n 
Ls     source s1  2n 
Rs      s1    s2  1.162m

Rg     g1    g2    3.3

*MOSFET
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS PMOS ( KP=94.05 VTO=-2 THETA=0.02 ETA=0.01   LEVEL=3)
Rd     d1    d2    2.11m  TC=5.5m

*diode
Dbd     d2    s2    Dbt
.MODEL     Dbt    D(BV=40   M=0.5      CJO=1.31n     VJ=1)
Dbody   21   s2    DBODY
.MODEL DBODY  D(IS=205.2p  N=1.15    RS=5.73m   EG=1.12    TT=30n)
Rdiode  d1  21    2.69m  TC=5.5m

.MODEL   sw    PMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   5.1n
.MODEL     DGD    D(M=0.62   CJO=5.1n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       d2   a   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2   4.34n

.ENDS SPD50P03L_L0

**********

.SUBCKT  BSC080P03LS_L0  drain  gate  source

*package
Lg     gate  g1   3.5n 
Ld     drain d1   0.5n 
Ls     source s1  0.7n 
Rs      s1    s2  2.411m

Rg     g1    g2    4.7

*MOSFET
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS PMOS ( KP=90.86 VTO=-2 THETA=0.02 ETA=0.01   LEVEL=3)
Rd     d1    d2    2.18m  TC=5.5m

*diode
Dbd     d2    s2    Dbt
.MODEL     Dbt    D(BV=40   M=0.5      CJO=1.26n     VJ=1)
Dbody   21   s2    DBODY
.MODEL DBODY  D(IS=198.24p  N=1.15    RS=5.93m   EG=1.12    TT=30n)
Rdiode  d1  21    2.78m  TC=5.5m

.MODEL   sw    PMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   4.93n
.MODEL     DGD    D(M=0.62   CJO=4.93n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       d2   a   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2   4.2n

.ENDS BSC080P03LS_L0

**********

.SUBCKT  BSC130P03LS_L0  drain  gate  source

*package
Lg     gate  g1   3.5n 
Ld     drain d1   0.5n 
Ls     source s1  0.7n 
Rs      s1    s2  3.021m

Rg     g1    g2    4.7

*MOSFET
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS PMOS ( KP=54.18 VTO=-2 THETA=0.02 ETA=0.01   LEVEL=3)
Rd     d1    d2    3.65m  TC=5.5m

*diode
Dbd     d2    s2    Dbt
.MODEL     Dbt    D(BV=40   M=0.5      CJO=753.53p     VJ=1)
Dbody   21   s2    DBODY
.MODEL DBODY  D(IS=118.2p  N=1.15    RS=9.95m   EG=1.12    TT=30n)
Rdiode  d1  21    4.67m  TC=5.5m

.MODEL   sw    PMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   2.94n
.MODEL     DGD    D(M=0.62   CJO=2.94n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       d2   a   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2   2.5n

.ENDS BSC130P03LS_L0

**********

.SUBCKT  BSC200P03LS_L0  drain  gate  source

*package
Lg     gate  g1   3.5n 
Ld     drain d1   2n 
Ls     source s1  2n 
Rs      s1    s2  6.982m

Rg     g1    g2    4.2

*MOSFET
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS PMOS ( KP=35.75 VTO=-2 THETA=0.02 ETA=0.01   LEVEL=3)
Rd     d1    d2    5.54m  TC=5.5m

*diode
Dbd     d2    s2    Dbt
.MODEL     Dbt    D(BV=40   M=0.5      CJO=497.25p     VJ=1)
Dbody   21   s2    DBODY
.MODEL DBODY  D(IS=78p  N=1.15    RS=15.08m   EG=1.12    TT=30n)
Rdiode  d1  21    7.08m  TC=5.5m

.MODEL   sw    PMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   1.95n
.MODEL     DGD    D(M=0.62   CJO=1.95n   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       d2   a   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2   1.65n

.ENDS BSC200P03LS_L0

**********

.SUBCKT  BSS315P_L0  drain  gate  source

*package
Lg     gate  g1   1n
Ld     drain d1   0.5n
Ls     source s1  1n
Rs      s1    s2  15.379m

Rg     g1    g2    17.5

*MOSFET
M1      d2    g2    s2    s2    DMOS    L=1u   W=1u
.MODEL DMOS PMOS ( KP=4.07 VTO=-2 THETA=0.02 ETA=0.01   LEVEL=3)
Rd     d1    d2    48.65m  TC=5.5m

*diode
Dbd     d2    s2    Dbt
.MODEL     Dbt    D(BV=40   M=0.5      CJO=56.61p     VJ=1)
Dbody   21   s2    DBODY
.MODEL DBODY  D(IS=8.88p  N=1.15    RS=132.43m   EG=1.12    TT=30n)
Rdiode  d1  21    62.16m  TC=5.5m

.MODEL   sw    PMOS(VTO=0  KP=10   LEVEL=1)
Maux      g2   c    a    a   sw
Maux2     b    d    g2    g2   sw
Eaux      c    a    d2    g2   1
Eaux2     d    g2   d2    g2   -1
Cox       b    d2   225.65p
.MODEL     DGD    D(M=0.62   CJO=225.65p   VJ=0.5)
Rpar      b    d2   1Meg
Dgd       d2   a   DGD
Rpar2     d2   a    10Meg
Cgs     g2    s2   187.96p

.ENDS BSS315P_L0

**********

